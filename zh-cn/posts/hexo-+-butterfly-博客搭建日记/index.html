<!doctype html><html lang=zh-CN dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Hexo + Butterfly 博客搭建日记 &#183; Aphcity の 部落格</title><meta name=title content="Hexo + Butterfly 博客搭建日记 &#183; Aphcity の 部落格"><meta name=description content="在 GitHub 上配置使用 Butterfly 主题的 Hexo 博客的完整指南，从安装到部署。"><meta name=keywords content="Hexo,"><link rel=canonical href=https://aphcity.top/zh-cn/posts/hexo-+-butterfly-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B0/><meta name=author content="Aphcity"><link href=https://github.com/Aphcity rel=me><link href=https://steamcommunity.com/id/Aphcity/ rel=me><link href=https://space.bilibili.com/5175685 rel=me><meta property="og:url" content="https://aphcity.top/zh-cn/posts/hexo-+-butterfly-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B0/"><meta property="og:site_name" content="Aphcity の 部落格"><meta property="og:title" content="Hexo + Butterfly 博客搭建日记"><meta property="og:description" content="在 GitHub 上配置使用 Butterfly 主题的 Hexo 博客的完整指南，从安装到部署。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-30T10:44:00+00:00"><meta property="article:modified_time" content="2024-10-27T16:09:58+00:00"><meta property="article:tag" content="Hexo"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hexo + Butterfly 博客搭建日记"><meta name=twitter:description content="在 GitHub 上配置使用 Butterfly 主题的 Hexo 博客的完整指南，从安装到部署。"><link type=text/css rel=stylesheet href=/css/main.bundle.min.e9d3896a53ce890057a0ef505a04ba5d113ab34679bfa4f8d1441476f67ae26676773cd154b97b293f7f1380f6a2b2aaa1ea753083cc2861fc17e0d58fdd30bb.css integrity="sha512-6dOJalPOiQBXoO9QWgS6XRE6s0Z5v6T40UQUdvZ64mZ2dzzRVLl7KT9/E4D2orKqoep1MIPMKGH8F+DVj90wuw=="><script type=text/javascript src=/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js integrity="sha512-b0EXSzoFtoCCD+CMrb+l+3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.9cc802d09f28c6af56ceee7bc6e320a39251fdae98243f2a9942f221ac57a9f49c51609699a91794a7b2580ee1deaa8e4d794a68ffa94aa317c66e893ce51e02.js integrity="sha512-nMgC0J8oxq9Wzu57xuMgo5JR/a6YJD8qmULyIaxXqfScUWCWmakXlKeyWA7h3qqOTXlKaP+pSqMXxm6JPOUeAg==" data-copy=复制 data-copied=已复制></script><script src=/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script><link rel=apple-touch-icon sizes=180x180 href="/apple-touch-icon.png?v=1.3"><link rel=icon type=image/png sizes=32x32 href="/favicon-32x32.png?v=1.3"><link rel=icon type=image/png sizes=16x16 href="/favicon-16x16.png?v=1.3"><link rel=manifest href="/site.webmanifest?v=1.3"><link rel=mask-icon href="/safari-pinned-tab.svg?v=1.3" color=#96ccdd><link rel="shortcut icon" href="/favicon.ico?v=1.3"><meta name=msapplication-TileColor content="#96ccdd"><meta name=theme-color content="#96ccdd"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"Hexo \u002b Butterfly 博客搭建日记","headline":"Hexo \u002b Butterfly 博客搭建日记","description":"在 GitHub 上配置使用 Butterfly 主题的 Hexo 博客的完整指南，从安装到部署。","abstract":"\u003cblockquote\u003e\n\u003cp\u003e全记录，旨在能够找到回家的路。\u003c\/p\u003e\u003c\/blockquote\u003e\n\n\u003ch2 class=\u0022relative group\u0022\u003e环境配置\n    \u003cdiv id=\u0022环境配置\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none\u0022\u003e\n        \u003ca class=\u0022text-primary-300 dark:text-neutral-700 !no-underline\u0022 href=\u0022#%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae\u0022 aria-label=\u0022锚点\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e\n    \n\u003c\/h2\u003e\n\u003cp\u003eHexo 是一个快速、简洁且高效的博客框架。Hexo 使用 \u003ca\n  href=\u0022http:\/\/daringfireball.net\/projects\/markdown\/\u0022\n    target=\u0022_blank\u0022\n  \u003eMarkdown\u003c\/a\u003e（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。\n安装 Hexo 相当简单，只需要先安装下列应用程序即可：\u003c\/p\u003e","inLanguage":"zh-cn","url":"https:\/\/aphcity.top\/zh-cn\/posts\/hexo-\u002b-butterfly-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B0\/","author":{"@type":"Person","name":"Aphcity"},"copyrightYear":"2022","dateCreated":"2022-12-30T10:44:00\u002b00:00","datePublished":"2022-12-30T10:44:00\u002b00:00","dateModified":"2024-10-27T16:09:58\u002b00:00","keywords":["Hexo"],"mainEntityOfPage":"true","wordCount":"6827"}]</script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js></script><script>const firebaseConfig={apiKey:"AIzaSyBV9VoGS3gGB0VF9AA3NK4EQ-diuPK_7Fw",authDomain:"aphcity-top.firebaseapp.com",projectId:"aphcity-top",storageBucket:"aphcity-top.appspot.com",messagingSenderId:"567753381512",appId:"1:567753381512:web:2198b32bd5153b52a7713d",measurementId:"G-65T89EKE99"};var app=firebase.initializeApp(firebaseConfig),db=firebase.firestore(),auth=firebase.auth()</script></head><body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
跳过正文</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 z-100"><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div><div class="relative m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32"><div class="main-menu flex items-center justify-between py-6 md:justify-start gap-x-3 pt-[2px] pr-2 md:pr-4 pb-[3px] pl-0"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/zh-cn/ class="text-base font-medium">Aphcity の 部落格</a></nav><nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12"><a href=/zh-cn/posts/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400" aria-label=博客 title=Posts><p class="text-base font-medium">博客</p></a><a href=/zh-cn/categories/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400" aria-label=分类 title=Categories><p class="text-base font-medium">分类</p></a><div><div class="cursor-pointer flex items-center nested-menu"><a aria-label=工具盒 class="text-base font-medium hover:text-primary-600 dark:hover:text-primary-400" title><p>工具盒</p></a><span><span class="relative block icon"><svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75.0 011.06.02L10 11.168l3.71-3.938a.75.75.0 111.08 1.04l-4.25 4.5a.75.75.0 01-1.08.0l-4.25-4.5a.75.75.0 01.02-1.06z" clip-rule="evenodd"/></svg></span></span></div><div class="absolute menuhide"><div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl"><div class="flex flex-col space-y-3"><a href=/zh-cn/music/ aria-label=音乐盒 class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>音乐盒</p></a><a href=/zh-cn/toolbox/woodenfish/ aria-label=木鱼 class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-sm" title>木鱼</p></a></div></div></div></div><a href=/zh-cn/tags/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400" aria-label=标签 title=Tags><p class="text-base font-medium">标签</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="搜索 (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title="搜索 (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400 me-1"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 md:hidden"><div id=menu-button class=block><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl"><li id=menu-close-button><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/zh-cn/posts/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400" aria-label=博客 title=Posts><p class="text-bg font-bg">博客</p></a></li><li class=mt-1><a href=/zh-cn/categories/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400" aria-label=分类 title=Categories><p class="text-bg font-bg">分类</p></a></li><li class=mt-1><a href aria-label=工具盒 class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>工具盒</p><span><span class="relative block icon"><svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75.0 011.06.02L10 11.168l3.71-3.938a.75.75.0 111.08 1.04l-4.25 4.5a.75.75.0 01-1.08.0l-4.25-4.5a.75.75.0 01.02-1.06z" clip-rule="evenodd"/></svg></span></span></a></li><li class=mt-1><a href=/zh-cn/music/ aria-label=音乐盒 class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>音乐盒</p></a></li><li class=mt-1><a href=/zh-cn/toolbox/woodenfish/ aria-label=木鱼 class="flex items-center hover:text-primary-600 dark:hover:text-primary-400"><p class="text-sm font-small" title>木鱼</p></a></li><li class=mb-2></li><li class=mt-1><a href=/zh-cn/tags/ class="flex items-center hover:text-primary-600 dark:hover:text-primary-400" aria-label=标签 title=Tags><p class="text-bg font-bg">标签</p></a></li></ul><hr><ul class="flex mt-4 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none text-end max-w-7xl"><li class=mb-1><a href class="flex items-center"><p class="text-sm font-sm" title>An interesting topic</p></a></li><li class=mb-1><a href class="flex items-center"><span class=mr-3><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span><p class="text-sm font-sm" title>My Awesome Category</p></a></li></ul></div></div></div></div><div class="main-menu flex pb-3 flex-col items-end justify-between md:justify-start space-x-3"><div class="hidden md:flex items-center space-x-5"><a href class="flex items-center"><p class="text-xs font-light" title>An interesting topic</p></a><a href class="flex items-center"><span class=mr-1><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span><p class="text-xs font-light" title>My Awesome Category</p></a></div></div><script>(function(){var e=$(".main-menu"),t=window.location.pathname;e.find('a[href="'+t+'"]').each(function(e,t){$(t).children("p").addClass("active")})})()</script></div></div><script type=text/javascript src=/js/background-blur.min.00a57c73ea12f2cab2980c3c3d649e89f6d82f190f74bbe2b67f2f5e39ab7d032ece47086400ca05396758aace13299da49aca43ea643d2625e62c506267a169.js integrity="sha512-AKV8c+oS8sqymAw8PWSeifbYLxkPdLvitn8vXjmrfQMuzkcIZADKBTlnWKrOEymdpJrKQ+pkPSYl5ixQYmehaQ==" data-blur-id=menu-blur></script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><div class="overflow-hidden rounded-md h-36 md:h-56 lg:h-72 nozoom"><img src=/Hexo-Butterfly-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%97%A5%E8%AE%B0.22p2gpwqav1c_3480094195479201301_hu_611743bbc7eefc1a.webp alt="Hexo + Butterfly 博客搭建日记" loading=eager decoding=async fetchpriority=high class="w-full h-full nozoom object-cover"></div><div class="single_hero_background nozoom fixed inset-x-0 top-0 h-[800px]"><img id=background-image-main src=/img/default-cover.2q5oxoasyv00_hu_3d981d3327ae8429.webp alt role=presentation loading=eager decoding=async fetchpriority=high class="absolute inset-0 h-full w-full object-cover"><div class="from-neutral absolute inset-0 bg-gradient-to-t to-transparent mix-blend-normal dark:from-neutral-800"></div><div class="from-neutral to-neutral absolute inset-0 bg-gradient-to-t opacity-30 mix-blend-normal dark:from-neutral-800 dark:to-neutral-800 dark:opacity-60"></div></div><div id=background-blur class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div><script type=text/javascript src=/js/background-blur.min.00a57c73ea12f2cab2980c3c3d649e89f6d82f190f74bbe2b67f2f5e39ab7d032ece47086400ca05396758aace13299da49aca43ea643d2625e62c506267a169.js integrity="sha512-AKV8c+oS8sqymAw8PWSeifbYLxkPdLvitn8vXjmrfQMuzkcIZADKBTlnWKrOEymdpJrKQ+pkPSYl5ixQYmehaQ==" data-blur-id=background-blur data-image-id=background-image-main data-image-url=/img/default-cover.2q5oxoasyv00.webp></script><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Hexo + Butterfly 博客搭建日记</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2022-12-30T10:44:00+00:00>2022年12月30日</time><span class="px-2 text-primary-500">&#183;</span><time datetime=2024-10-27T16:09:58+00:00>更新于: 2024年10月27日</time><span class="px-2 text-primary-500">&#183;</span><span>6827 字</span><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>14 分钟</span><span class="px-2 text-primary-500">&#183;</span><span>
<span id="views_posts/Hexo + Butterfly 博客搭建日记.md" class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400" title=views>loading</span>
<span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 576 512"><path fill="currentColor" d="M288 32c-80.8.0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7.0 24.6C17.3 304 48.6 356 95.4 399.4 142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7.0-24.6-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144 64.5-144 144-144 144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64-11.5.0-22.3-3-31.6-8.4-.2 2.8-.4 5.5-.4 8.4.0 53 43 96 96 96s96-43 96-96-43-96-96-96c-2.8.0-5.6.1-8.4.4 5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></span>
</span><span class="px-2 text-primary-500">&#183;</span><span>
<span id="likes_posts/Hexo + Butterfly 博客搭建日记.md" class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400" title=likes>loading</span>
<span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M47.6 300.4 228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6.0 115.2.0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span></span>
</span><span class="px-2 text-primary-500">&#183;</span><span>
<button id=button_likes class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
<span id=button_likes_heart class="inline-block align-text-bottom hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M47.6 300.4 228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6.0 115.2.0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span>
</span><span id=button_likes_emtpty_heart class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M244 84l11.1 12 12-11.98C300.6 51.37 347 36.51 392.6 44.1 461.5 55.58 512 115.2 512 185.1V190.9c0 41.5-17.2 81.2-47.6 109.5L283.7 469.1c-7.5 7-17.4 10.9-27.7 10.9S235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1.0 232.4.0 190.9V185.1c0-69.9 50.52-129.52 119.4-141 44.7-7.59 92 7.27 124.6 39.9C243.1 84 244 84.01 244 84zm11.1 79.9-45-46.8c-21.7-20.82-52.5-30.7-82.8-25.66C81.55 99.07 48 138.7 48 185.1V190.9c0 28.2 11.71 55.2 32.34 74.4L256 429.3l175.7-164c20.6-19.2 32.3-46.2 32.3-74.4V185.1c0-46.4-33.6-86.03-79.3-93.66C354.4 86.4 323.6 96.28 301.9 117.1l-46.8 46.8z"/></svg></span></span>
<span id=button_likes_text>&nbsp;Like</span>
</button>
</span><span class="px-2 text-primary-500">&#183;</span>
<span class=mb-[2px]><a href=https://github.com/Aphcity/aphcity.github.io/posts/Hexo%20+%20Butterfly%20%e5%8d%9a%e5%ae%a2%e6%90%ad%e5%bb%ba%e6%97%a5%e8%ae%b0.md class="text-lg hover:text-primary-500" rel="noopener noreferrer" target=_blank title=编辑内容><span class="inline-block align-text-bottom"><span class="relative block icon"><svg height="1em" viewBox="0 0 512 512"><path fill="currentColor" d="M441 58.9 453.1 71c9.4 9.4 9.4 24.6.0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9.0zM209.8 256.2 344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1L186.9 325l16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25 175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 1e2c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l1e2-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7.0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4.0 152V424c0 48.6 39.4 88 88 88H360c48.6.0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1.0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H2e2c13.3.0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg></span></span></a></span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] me-2" href=/zh-cn/categories/%E6%95%99%E7%A8%8B/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">教程
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/zh-cn/tags/hexo/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Hexo</span></span></a></div></div><div class="flex author"><img class="!mt-0 !mb-0 h-24 w-24 rounded-full me-4" width=96 height=96 alt=Aphcity src=/img/avatar.5esiw34k8aw0_hu_c8e5d9a095900940.webp data-zoom-src=/img/avatar.5esiw34k8aw0.webp><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">作者</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Aphcity</div><div class="text-sm text-neutral-700 dark:text-neutral-400">只是一介学徒</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=mailto:chalk.talisman@gmail.com target=_blank aria-label=Email title=Email rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/Aphcity target=_blank aria-label=Github title=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://steamcommunity.com/id/Aphcity/ target=_blank aria-label=Steam title=Steam rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M496 256c0 137-111.2 248-248.4 248-113.8.0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2.0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5.0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79.0 0027.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3S206 305.6 193 300.2c-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4.0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9.0 46.9-21 46.9-46.8.0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://space.bilibili.com/5175685 target=_blank aria-label=Bilibili title=Bilibili rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M488.6 104.1c16.7 18.1 24.4 39.7 23.3 65.7V372.2C511.5 398.6 502.7 420.3 485.4 437.3c-17.2 17-39.1 25.9-65.5 26.7H92C65.6 463.2 43.8 454.2 26.7 436.8 9.7 419.4.8 396.5.0 368.2V169.8c.8-26 9.7-47.6 26.7-65.7C43.8 87.8 65.6 78.8 92 78h29.4L96.1 52.2C90.3 46.5 87.4 39.2 87.4 30.4 87.4 21.6 90.3 14.3 96.1 8.6c5.7-5.7 13-8.6 21.8-8.6 8.8.0 16.1 2.9 21.9 8.6L213.1 78h88L375.6 8.6C381.7 2.9 389.2.0 398 0s16.1 2.9 21.9 8.6C425.6 14.3 428.5 21.6 428.5 30.4 428.5 39.2 425.6 46.5 419.9 52.2L394.6 78h29.3C450.3 78.8 471.9 87.8 488.6 104.1h0zm-38.8 69.7C449.4 164.2 446.1 156.4 439.1 150.3 433.9 144.2 425.1 140.9 416.4 140.5H96.1C86.5 140.9 78.6 144.2 72.5 150.3 66.3 156.4 63.1 164.2 62.7 173.8V368.2C62.7 377.4 66 385.2 72.5 391.7S86.9 401.5 96.1 401.5H416.4C425.6 401.5 433.4 398.2 439.7 391.7S449.4 377.4 449.8 368.2V173.8zM185.5 216.5C191.8 222.8 195.2 230.6 195.6 239.7V273C195.2 282.2 191.9 289.9 185.8 296.2 179.6 302.5 171.8 305.7 162.2 305.7 152.6 305.7 144.7 302.5 138.6 296.2S129.2 282.2 128.8 273V239.7C129.2 230.6 132.6 222.8 138.9 216.5 145.2 210.2 152.1 206.9 162.2 206.5 171.4 206.9 179.2 210.2 185.5 216.5h0zm191.5.0C383.3 222.8 386.7 230.6 387.1 239.7V273C386.7 282.2 383.4 289.9 377.3 296.2 371.2 302.5 363.3 305.7 353.7 305.7 344.1 305.7 336.3 302.5 330.1 296.2 323.1 289.9 320.7 282.2 320.4 273V239.7C320.7 230.6 324.1 222.8 330.4 216.5 336.7 210.2 344.5 206.9 353.7 206.5 362.9 206.9 370.7 210.2 377 216.5h0z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs"><div class="toc ps-5 print:hidden lg:sticky lg:top-[140px]"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">目录</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#环境配置>环境配置</a><ul><li><a href=#git>Git</a><ul><li><a href=#安装>安装</a></li><li><a href=#配置git与github>配置<code>Git</code>与<code>GitHub</code></a></li></ul></li><li><a href=#nodejs>Node.js</a><ul><li><a href=#安装-1>安装</a></li></ul></li></ul></li><li><a href=#安装-hexo>安装 Hexo</a></li><li><a href=#部署到github>部署到GitHub</a></li><li><a href=#安装-butterfly>安装 Butterfly</a><ul><li><a href=#应用主题>应用主题</a></li><li><a href=#安装插件>安装插件</a></li><li><a href=#升级建议>升级建议</a></li></ul></li><li><a href=#博客配置>博客配置</a><ul><li><a href=#网站>网站</a></li><li><a href=#网址>网址</a></li><li><a href=#域名配置>域名配置</a></li><li><a href=#永久链接配置>永久链接配置</a></li><li><a href=#algolia-搜索>Algolia 搜索</a></li><li><a href=#katex-配置>Katex 配置</a></li><li><a href=#twikoo-评论系统>Twikoo 评论系统</a></li><li><a href=#git-calendar>Git-Calendar</a></li><li><a href=#页脚计时器和页脚徽标>页脚计时器和页脚徽标</a></li><li><a href=#日志自动分类插件>日志自动分类插件</a></li><li><a href=#gulp-压缩静态资源>gulp 压缩静态资源</a></li></ul></li><li><a href=#魔改优化日记>魔改优化日记</a><ul><li><a href=#合并css以减少请求次数>合并CSS以减少请求次数</a></li><li><a href=#博客使用一图流>博客使用一图流</a><ul><li><a href=#去除背景配置>去除背景配置</a></li><li><a href=#引入魔改样式修改-css-样式>引入魔改样式，修改 CSS 样式</a></li></ul></li></ul></li><li><a href=#主题升级>主题升级</a></li></ul></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">目录</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><ul><li><a href=#环境配置>环境配置</a><ul><li><a href=#git>Git</a><ul><li><a href=#安装>安装</a></li><li><a href=#配置git与github>配置<code>Git</code>与<code>GitHub</code></a></li></ul></li><li><a href=#nodejs>Node.js</a><ul><li><a href=#安装-1>安装</a></li></ul></li></ul></li><li><a href=#安装-hexo>安装 Hexo</a></li><li><a href=#部署到github>部署到GitHub</a></li><li><a href=#安装-butterfly>安装 Butterfly</a><ul><li><a href=#应用主题>应用主题</a></li><li><a href=#安装插件>安装插件</a></li><li><a href=#升级建议>升级建议</a></li></ul></li><li><a href=#博客配置>博客配置</a><ul><li><a href=#网站>网站</a></li><li><a href=#网址>网址</a></li><li><a href=#域名配置>域名配置</a></li><li><a href=#永久链接配置>永久链接配置</a></li><li><a href=#algolia-搜索>Algolia 搜索</a></li><li><a href=#katex-配置>Katex 配置</a></li><li><a href=#twikoo-评论系统>Twikoo 评论系统</a></li><li><a href=#git-calendar>Git-Calendar</a></li><li><a href=#页脚计时器和页脚徽标>页脚计时器和页脚徽标</a></li><li><a href=#日志自动分类插件>日志自动分类插件</a></li><li><a href=#gulp-压缩静态资源>gulp 压缩静态资源</a></li></ul></li><li><a href=#魔改优化日记>魔改优化日记</a><ul><li><a href=#合并css以减少请求次数>合并CSS以减少请求次数</a></li><li><a href=#博客使用一图流>博客使用一图流</a><ul><li><a href=#去除背景配置>去除背景配置</a></li><li><a href=#引入魔改样式修改-css-样式>引入魔改样式，修改 CSS 样式</a></li></ul></li></ul></li><li><a href=#主题升级>主题升级</a></li></ul></li></ul></nav></div></details><script>(function(){"use strict";const s=.33,o="#TableOfContents",i=".anchor",a='a[href^="#"]',r="li ul",c="active";let t=!1;function l(e,n){const o=window.scrollY+window.innerHeight*n,i=[...document.querySelectorAll('#TableOfContents a[href^="#"]')],s=new Set(i.map(e=>e.getAttribute("href").substring(1)));if(t)for(let t=0;t<e.length;t++){const n=e[t];if(!s.has(n.id))continue;const o=n.getBoundingClientRect().top+window.scrollY;if(Math.abs(window.scrollY-o)<100)return n.id}for(let t=e.length-1;t>=0;t--){const n=e[t].getBoundingClientRect().top+window.scrollY;if(n<=o&&s.has(e[t].id))return e[t].id}return e.find(e=>s.has(e.id))?.id||""}function e({toc:e,anchors:t,links:n,scrollOffset:s,collapseInactive:o}){const i=l(t,s);if(!i)return;if(n.forEach(e=>{const t=e.getAttribute("href")===`#${i}`;if(e.classList.toggle(c,t),o){const n=e.closest("li")?.querySelector("ul");n&&(n.style.display=t?"":"none")}}),o){const n=e.querySelector(`a[href="#${CSS.escape(i)}"]`);let t=n;for(;t&&t!==e;)t.tagName==="UL"&&(t.style.display=""),t.tagName==="LI"&&t.querySelector("ul")?.style.setProperty("display",""),t=t.parentElement}}function n(){const n=document.querySelector(o);if(!n)return;const l=!1,u=[...document.querySelectorAll(i)],d=[...n.querySelectorAll(a)];l&&n.querySelectorAll(r).forEach(e=>e.style.display="none"),d.forEach(e=>{e.addEventListener("click",()=>{t=!0})});const c={toc:n,anchors:u,links:d,scrollOffset:s,collapseInactive:l};window.addEventListener("scroll",()=>e(c),{passive:!0}),window.addEventListener("hashchange",()=>e(c),{passive:!0}),e(c)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",n):n()})()</script></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><blockquote><p>全记录，旨在能够找到回家的路。</p></blockquote><h2 class="relative group">环境配置<div id=环境配置 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae aria-label=锚点>#</a></span></h2><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href=http://daringfireball.net/projects/markdown/ target=_blank>Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。
安装 Hexo 相当简单，只需要先安装下列应用程序即可：</p><ul><li><a href=http://nodejs.org/ target=_blank>Node.js</a> (Node.js 版本需不低于 10.13，建议使用 Node.js 12.0 及以上版本)</li><li><a href=http://git-scm.com/ target=_blank>Git</a></li></ul><h3 class="relative group">Git<div id=git class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#git aria-label=锚点>#</a></span></h3><h4 class="relative group">安装<div id=安装 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%ae%89%e8%a3%85 aria-label=锚点>#</a></span></h4><p>对于中国大陆地区用户，可以前往 <a href=https://npm.taobao.org/mirrors/git-for-windows/ target=_blank>淘宝 Git for Windows 镜像</a> 下载 git 安装包。</p><ul><li>Windows：下载并安装 <a href=https://git-scm.com/download/win target=_blank>git</a>.</li><li>Mac：使用 <a href=http://mxcl.github.com/homebrew/ target=_blank>Homebrew</a>, <a href=http://www.macports.org/ target=_blank>MacPorts</a> 或者下载 <a href=http://sourceforge.net/projects/git-osx-installer/ target=_blank>安装程序</a>。</li><li>Linux (Ubuntu, Debian)：<code>sudo apt-get install git-core</code></li><li>Linux (Fedora, Red Hat, CentOS)：<code>sudo yum install git-core</code></li></ul><h4 class="relative group">配置<code>Git</code>与<code>GitHub</code><div id=配置git与github class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e9%85%8d%e7%bd%aegit%e4%b8%8egithub aria-label=锚点>#</a></span></h4><p>此处为全局配置，所以可以在任意位置打开<code>git bash</code>，设置用户名称和邮件地址。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git config --global user.name <span class=s2>&#34;&lt;yourusername&gt;&#34;</span>  
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;&lt;youremail&gt;&#34;</span>
</span></span></code></pre></div><p>设置完成后为了能够在本地使用<code>git</code>管理<code>github</code>上的项目，需要绑定<code>SSHkey</code>。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-keygen -t rsa -C &lt;youremail&gt;
</span></span><span class=line><span class=cl><span class=c1># -C后面加你在github的用户名邮箱，这样公钥才会被github认可  </span>
</span></span><span class=line><span class=cl>less ~/.ssh/id_rsa.pub
</span></span><span class=line><span class=cl><span class=c1># 查看公钥内容稍后加入Github账户的sshkey中,</span>
</span></span></code></pre></div><p>打开 <a href=https://github.com/ target=_blank>GitHub网页</a><br>单击<code>头像</code>-><code>settings</code>,在设置页面找到<code>SSH and GPG keys</code>，单击<code>New SSH key</code>新建<code>SSH KEY</code>。</p><p>保存后，在<code>git bash</code>测试<code>SSH KEY</code>是否添加成功，输入</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh -T git@github.com  
</span></span><span class=line><span class=cl><span class=c1># Attempts to ssh to GitHub</span>
</span></span></code></pre></div><p>正常的输出结果是：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>The authenticity of host <span class=s1>&#39;github.com (207.97.227.239)&#39;</span> can<span class=s1>&#39;t be established.  
</span></span></span><span class=line><span class=cl><span class=s1>RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.  
</span></span></span><span class=line><span class=cl><span class=s1>Are you sure you want to continue connecting (yes/no)?  
</span></span></span><span class=line><span class=cl><span class=s1># 此处请输入yes  
</span></span></span><span class=line><span class=cl><span class=s1>Hi username! You&#39;</span>ve successfully authenticated, but GitHub does not  
</span></span><span class=line><span class=cl>provide shell access.
</span></span></code></pre></div><h3 class="relative group">Node.js<div id=nodejs class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#nodejs aria-label=锚点>#</a></span></h3><h4 class="relative group">安装<div id=安装-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%ae%89%e8%a3%85-1 aria-label=锚点>#</a></span></h4><p>Node.js 为大多数平台提供了官方的 <a href=https://nodejs.org/en/download/ target=_blank>安装程序</a>。对于中国大陆地区用户，可以前往 <a href=https://npm.taobao.org/mirrors/node target=_blank>淘宝 Node.js 镜像</a> 下载。</p><p>其它的安装方法：</p><ul><li>Windows：通过 <a href=https://github.com/jasongin/nvs/ target=_blank>nvs</a>（推荐）或者 <a href=https://github.com/nvm-sh/nvm target=_blank>nvm</a> 安装。</li><li>Mac：使用 <a href=https://brew.sh/ target=_blank>Homebrew</a> 或 <a href=http://www.macports.org/ target=_blank>MacPorts</a> 安装。</li><li>Linux（DEB/RPM-based）：从 <a href=https://github.com/nodesource/distributions target=_blank>NodeSource</a> 安装。</li><li>其它：使用相应的软件包管理器进行安装，可以参考由 Node.js 提供的 <a href=https://nodejs.org/en/download/package-manager/ target=_blank>指导</a>。</li></ul><p>对于 Mac 和 Linux 同样建议使用 nvs 或者 nvm，以避免可能会出现的权限问题。</p><h2 class="relative group">安装 Hexo<div id=安装-hexo class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%ae%89%e8%a3%85-hexo aria-label=锚点>#</a></span></h2><ol><li><p>所有必备的应用程序安装完成后，首先需要建立博客文件夹，建议建在非系统盘，例如<code>D:/Hexo/</code>，那么这个目录就是我们博客的根目录了。因为每个人的命名习惯不同，本帖之后会以<code>[Blogroot]</code>指代博客根目录。</p></li><li><p>使用<code>npm</code>安装<code>Hexo</code>,在<code>[Blogroot]</code>路径下<code>右键</code>-><code>Git Bash Here</code>，输入</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm config <span class=nb>set</span> registry https://registry.npmmirror.com  
</span></span><span class=line><span class=cl><span class=c1>#将npm源替换为阿里的镜像。之后的安装就会迅速很多了。  </span>
</span></span><span class=line><span class=cl>npm install hexo-cli -g  
</span></span><span class=line><span class=cl><span class=c1># hexo-cli 是 hexo的指令集。  </span>
</span></span><span class=line><span class=cl>hexo init  
</span></span><span class=line><span class=cl><span class=c1># 有了指令集以后，使用它的初始化指令来初始化安装Hexo博客。</span>
</span></span></code></pre></div></li><li><p>安装插件，依然是在<code>[Blogroot]</code>路径下<code>右键</code>-><code>Git Bash Here</code>，使用<code>npm</code>指令挑选需要的插件安装。(请仔细阅读注释，确定你是否需要安装这个插件)。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install hexo-admin --save  
</span></span><span class=line><span class=cl><span class=c1># 网页端hexo文档管理插件，如无需求，可跳过  </span>
</span></span><span class=line><span class=cl>npm install hexo-deployer-git --save  
</span></span><span class=line><span class=cl><span class=c1># git部署插件，必须安装</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>npm install hexo-renderer-stylus --save  
</span></span><span class=line><span class=cl><span class=c1># nib css支持插件，如无需求，可跳过  </span>
</span></span><span class=line><span class=cl>npm install hexo-generator-feed --save  
</span></span><span class=line><span class=cl><span class=c1># RSS订阅支持插件，如无需求，可跳过  </span>
</span></span><span class=line><span class=cl>npm install hexo-generator-sitemap --save  
</span></span><span class=line><span class=cl><span class=c1># sitemap生成插件，帮助搜索引擎抓取，如无需求，可跳过  </span>
</span></span></code></pre></div></li><li><p>Hexo Bash常用命令</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hexo clean  
</span></span><span class=line><span class=cl><span class=c1>#清空缓存  </span>
</span></span><span class=line><span class=cl>hexo generate  
</span></span><span class=line><span class=cl>hexo g <span class=c1>#简写  </span>
</span></span><span class=line><span class=cl><span class=c1>#重新编译  </span>
</span></span><span class=line><span class=cl>hexo server  
</span></span><span class=line><span class=cl>hexo s <span class=c1>#简写  </span>
</span></span><span class=line><span class=cl><span class=c1>#打开本地访问  </span>
</span></span><span class=line><span class=cl>hexo new &lt;layout&gt; <span class=s2>&#34;文章title&#34;</span>  
</span></span><span class=line><span class=cl><span class=c1>#新建文章  </span>
</span></span><span class=line><span class=cl>hexo deploy  
</span></span><span class=line><span class=cl>hexo d <span class=c1>#简写  </span>
</span></span><span class=line><span class=cl><span class=c1>#部署到云端</span>
</span></span></code></pre></div></li><li><p>首次本地预览：在<code>[Blogroot]</code>路径下<code>右键</code>-><code>Git Bash Here</code>，输入</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hexo clean <span class=o>&amp;&amp;</span> hexo g <span class=o>&amp;&amp;</span> hexo s
</span></span></code></pre></div><p>然后在浏览器中打开<code>localhost:4000</code>，就能看到博客首页了。</p><p>如果你安装了<code>hexo-admin</code>插件，就可以通过访问 <a href=localhost:4000/admin>localhost:4000/admin</a> 来管理你的文章了。并且在可视化界面中操作文章内容。恭喜你，博客的本地部署到这里算是告一段落了。</p></li></ol><h2 class="relative group">部署到GitHub<div id=部署到github class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e9%83%a8%e7%bd%b2%e5%88%b0github aria-label=锚点>#</a></span></h2><ol><li><p>新建<code>username.github.io</code>仓库：</p><p>在<code>GitHub</code>首页单击<code>头像</code>-><code>Your repositories</code>
在自己的 GitHub 账号下创建一个新的仓库，命名为 <code>aphcity.github.io</code>。</p></li><li><p>配置hexo部署插件内容：</p><ul><li>确保你安装了<code>hexo-deployer-git</code>,如果没有，在<code>[Blogroot]</code>路径下<code>右键</code>-><code>Git Bash Here</code>，输入：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install hexo-deployer-git --save
</span></span></code></pre></div><ul><li>打开<code>[Blogroot]/_config.yml</code>,修改底部的<code>deploy</code>配置项。如果没有找到<code>deploy</code>配置项,则自己添加：</li></ul><pre tabindex=0><code class=language-YML data-lang=YML># 站点部署到github要配置Deployment  
## Docs: https://zespia.tw/hexo/docs/deploy.html  
deploy:
  type: git
  repo:
    github:  
      url: git@github.com:Aphcity/aphcity.github.io.git  # username为自己的用户名  
      branch: gh-page # 亦可以使用默认分支为main，注意修改  
</code></pre></li><li><p>把本地<code>hexo</code>博客内容提交到<code>git</code>仓库</p><ul><li>若以上内容已经准确配置，在<code>[Blogroot]</code>路径下<code>右键</code>-><code>Git Bash Here</code>，输入：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>hexo clean <span class=o>&amp;&amp;</span> hexo g <span class=o>&amp;&amp;</span> hexo d
</span></span></code></pre></div><ul><li>不出意外，就可以在浏览器上输入<code>https://aphcity.github.io</code>访问你的博客了。</li></ul></li></ol><h2 class="relative group">安装 Butterfly<div id=安装-butterfly class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%ae%89%e8%a3%85-butterfly aria-label=锚点>#</a></span></h2><p>稳定版【建议】</p><p>在<code>[Blogroot]</code>路径下<code>右键</code>-><code>Git Bash Here</code>，输入：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly
</span></span></code></pre></div><p>测试版</p><blockquote><p>测试版可能存在 bug，追求稳定的请安装稳定版</p></blockquote><p>如果想要安装比较新的 <code>dev</code> 分支，可以</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly
</span></span></code></pre></div><p>升级方法：在主题目录下，运行 <code>git pull</code></p><h3 class="relative group">应用主题<div id=应用主题 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%ba%94%e7%94%a8%e4%b8%bb%e9%a2%98 aria-label=锚点>#</a></span></h3><p>修改 Hexo 根目录下的 <code>_config.yml</code>，把主题改为 <code>butterfly</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>butterfly</span><span class=w>
</span></span></span></code></pre></div><h3 class="relative group">安装插件<div id=安装插件 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%ae%89%e8%a3%85%e6%8f%92%e4%bb%b6 aria-label=锚点>#</a></span></h3><p>如果你没有 <code>pug</code> 以及 <code>stylus</code> 的渲染器，请下载安装：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=l>npm install hexo-renderer-pug hexo-renderer-stylus --save</span><span class=w>
</span></span></span></code></pre></div><h3 class="relative group">升级建议<div id=升级建议 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%8d%87%e7%ba%a7%e5%bb%ba%e8%ae%ae aria-label=锚点>#</a></span></h3><p>在<code>[Blogroot]</code>路径下创建一个文件 <code>_config.butterfly.yml</code>，并把主题目录的 <code>_config.yml</code> 内容复制到 <code>_config.butterfly.yml</code> 去。( 注意: 复制的是主题的 <code>_config.yml</code> ,而不是 hexo 的 <code>_config.yml</code>)</p><p>同时，为了防止出现诸如 <code>git commit</code> 内容是主题文档的 <code>git commit history</code> 的错误，打开<code>[Blogroot]\.gitgnore</code>，手动添加 <code>themes/butterfly/.git</code>，一劳永逸</p><h2 class="relative group">博客配置<div id=博客配置 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%8d%9a%e5%ae%a2%e9%85%8d%e7%bd%ae aria-label=锚点>#</a></span></h2><p>您可以在 <code>_config.yml</code> 中修改大部分的配置。</p><h3 class="relative group">网站<div id=网站 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e7%bd%91%e7%ab%99 aria-label=锚点>#</a></span></h3><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>title</code></td><td>网站标题</td></tr><tr><td><code>subtitle</code></td><td>网站副标题，告诉搜索引擎一个关于您站点的简单描述</td></tr><tr><td><code>description</code></td><td>网站描述</td></tr><tr><td><code>keywords</code></td><td>网站的关键词。支持多个关键词。</td></tr><tr><td><code>author</code></td><td>您的名字</td></tr><tr><td><code>language</code></td><td>网站使用的语言。对于简体中文用户来说，使用不同的主题可能需要设置成不同的值，请参考你的主题的文档自行设置，常见的有 zh-Hans和 zh-CN。</td></tr><tr><td><code>timezone</code></td><td>网站时区。Hexo 默认使用您电脑的时区。对于中国大陆地区可以使用 Asia/Shanghai。</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>Aphcity の 窝</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>subtitle</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;树洞日记&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;无所事事所以充满动力&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>keywords</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>author</span><span class=p>:</span><span class=w> </span><span class=l>Aphcity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>language</span><span class=p>:</span><span class=w> </span><span class=l>zh-CN</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>timezone</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Asia/Shanghai&#34;</span><span class=w>
</span></span></span></code></pre></div><h3 class="relative group">网址<div id=网址 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e7%bd%91%e5%9d%80 aria-label=锚点>#</a></span></h3><table><thead><tr><th>参数</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>url</td><td>网址, 必须以 http:// 或 https:// 开头</td><td></td></tr><tr><td>permalink</td><td>文章的 永久链接 格式</td><td>:year/:month/:day/:title/</td></tr><tr><td>permalink_defaults</td><td>永久链接中各部分的默认值</td><td></td></tr><tr><td>pretty_urls.trailing_index</td><td>是否在永久链接中保留尾部的 index.html，设置为 false 时去除</td><td>TRUE</td></tr><tr><td>pretty_urls.trailing_html</td><td>是否在永久链接中保留尾部的 .html, 设置为 false 时去除 (对尾部的 index.html无效)</td><td>TRUE</td></tr></tbody></table><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>https://aphcity.github.io/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>permalink</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>year/:month/:day/:title/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>permalink_defaults</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>pretty_urls</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>trailing_index</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># Set to false to remove trailing &#39;index.html&#39; from permalinks</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>trailing_html</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># Set to false to remove trailing &#39;.html&#39; from permalinks</span><span class=w>
</span></span></span></code></pre></div><h3 class="relative group">域名配置<div id=域名配置 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%9f%9f%e5%90%8d%e9%85%8d%e7%bd%ae aria-label=锚点>#</a></span></h3><p>为了能够使用自己的域名访问我们的博客，需要再进行域名绑定：</p><p>首先要获取博客当前默认域名的<code>IP</code>,打开<code>cmd</code>或者<code>powershell</code>，输入：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ping aphcity.github.io
</span></span></code></pre></div><p>获取到的<code>ip</code>地址填入域名解析。进入解析页面后需要添加两条记录。</p><center><table><thead><tr><th>主机记录</th><th>类型</th><th>记录值</th></tr></thead><tbody><tr><td>@</td><td>A</td><td>ip</td></tr><tr><td>www</td><td>CNAME</td><td>aphcity.github.io</td></tr></tbody></table></center><p>在<code>[Blogroot]\source\</code>目录下新建<code>CNAME</code>文件（注意不要有后缀名，就叫<code>CNAME</code>即可，什么<code>.txt</code>、<code>.js</code>之类的后缀都不能有），在<code>CNAME</code>文件中添加上你购买的域名。</p><pre tabindex=0><code class=language-CNAME data-lang=CNAME>aphcity.cyou
</code></pre><p>配置<code>username.github.io</code>仓库。</p><p>打开<code>username.github.io</code>，点击仓库页面右上角的 <code>setting</code>，下拉找到 <code>Github Pages</code> 栏，在 <code>Custom domain</code> 中填入你购买的域名。</p><p>最后，重新部署一下 <code>hexo</code> 即可通过你的域名来访问博客了</p><h3 class="relative group">永久链接配置<div id=永久链接配置 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e6%b0%b8%e4%b9%85%e9%93%be%e6%8e%a5%e9%85%8d%e7%bd%ae aria-label=锚点>#</a></span></h3><p>Hexo URL 的默认规则是 年/月/日/标题，这样其实不利于SEO。</p><p>Hexo文章的url在博客根目录的<code>_config.yml</code>中进行配置，默认配置如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>permalink</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>year/:month/:day/:title/</span><span class=w>
</span></span></span></code></pre></div><p>这里的<code>:title</code>为<code>source/_post</code>下的相对路径，但是这样的话很容易造成url中文乱码，和不同浏览器因为字符集的问题导致的url失效。<br>这里建议尽量不使用默认配置，推荐使用如下采用 hash 值的方案：</p><p>直接修改<code>_config.yml</code>为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>permalink</span><span class=p>:</span><span class=w> </span><span class=p>:</span><span class=l>category/:hash/</span><span class=w>
</span></span></span></code></pre></div><p>这样每次生成文章url，会自动生成hash值，保证不重复且不会因为编码出错。</p><h3 class="relative group">Algolia 搜索<div id=algolia-搜索 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#algolia-%e6%90%9c%e7%b4%a2 aria-label=锚点>#</a></span></h3><p>你需要安装 <code>hexo-algolia</code> ，根据它们的说明文档去做相应的配置。</p><ol><li><p>安装 <code>hexo-algolia</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install --save hexo-algolia
</span></span></code></pre></div></li><li><p>修改 <code>_config.butterfly.yml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>algolia_search</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hits</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> 	   </span><span class=nt>per_page</span><span class=p>:</span><span class=w> </span><span class=m>6</span><span class=w>
</span></span></span></code></pre></div></li><li><p>注册登录 <a href=https://www.algolia.com/ target=_blank>Algolia官网</a> ，或者直接用<a href="https://so.csdn.net/so/search?q=GitHub&amp;spm=1001.2101.3001.7020" target=_blank>GitHub</a>账号登陆</p></li><li><p>新建一个 <code>index</code></p></li><li><p>左侧侧边栏找到 <code>API Keys</code>，进入后，点击 <code>ALL API Keys</code>，<strong>这点比较重要，因为前面的API不可用，要自己新建一个拥有增加删除权限的api key</strong></p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt="创建API Keys" src="https://imgconvert.csdnimg.cn/aHR0cDovL3BpYy5oZXNvbi54eXovaW1nL2ltYWdlLTIwMjAwNzEzMjI1OTExNDQ0LnBuZw?x-oss-process=image/format,png"></figure></p><p>点击 <code>New API Key</code>，如图所示，重要的是在ACL里面增加删除和新增Object的权限，然后填上 <code>indices</code> 栏目中的 <code>index name</code>，可以选刚才你创建的那个 <code>index</code> ，其余默认就行。</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt="New API Key" src="https://imgconvert.csdnimg.cn/aHR0cDovL3BpYy5oZXNvbi54eXovaW1nL2ltYWdlLTIwMjAwNzEzMjMwMDU0MzUwLnBuZw?x-oss-process=image/format,png"></figure></p><p>这样你就有了一个 <code>API Key</code>。</p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt="API Key" src="https://imgconvert.csdnimg.cn/aHR0cDovL3BpYy5oZXNvbi54eXovaW1nL2ltYWdlLTIwMjAwNzEzMjMwMzQ1MDQ2LnBuZw?x-oss-process=image/format,png"></figure></p></li><li><p>修改 <code>_config.yml</code></p><p>注意 <code>apikey</code> 填写刚才你创建的那个有权限的，其余的在 <code>Your API Keys</code> 里面可以找到</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>algolia</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>applicationID</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;applicationID&#39;</span><span class=w> </span><span class=c># Your Algolia Application ID</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>apiKey</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;apiKey&#39;</span><span class=w> </span><span class=c># A **Search-Only** API key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>adminApiKey</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;your adminApiKey&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>indexName</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;...&#39;</span><span class=w> </span><span class=c># The name of the Algolia index to use</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>chunkSize</span><span class=p>:</span><span class=w> </span><span class=m>5000</span><span class=w>
</span></span></span></code></pre></div></li><li><p>上传数据到 <code>algolia</code>，下面 <code>your apiKey</code> 替换为刚才自己创建拥有权限的api</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>HEXO_ALGOLIA_INDEXING_KEY</span><span class=o>=</span>your apiKey
</span></span><span class=line><span class=cl>hexo algolia
</span></span></code></pre></div><p>看到如下信息，证明成功了，可以去 <code>Algolia</code> 网站上查看，索引已经上传成功了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>INFO  <span class=o>[</span>Algolia<span class=o>]</span> Testing HEXO_ALGOLIA_INDEXING_KEY permissions.
</span></span><span class=line><span class=cl>INFO  Start processing
</span></span><span class=line><span class=cl>INFO  <span class=o>[</span>Algolia<span class=o>]</span> Identified <span class=m>5</span> pages and posts to index.
</span></span><span class=line><span class=cl>INFO  <span class=o>[</span>Algolia<span class=o>]</span> Indexing chunk <span class=m>1</span> of <span class=m>1</span> <span class=o>(</span><span class=m>50</span> items each<span class=o>)</span>
</span></span><span class=line><span class=cl>INFO  <span class=o>[</span>Algolia<span class=o>]</span> Indexing <span class=k>done</span>.
</span></span></code></pre></div></li></ol><h3 class="relative group">Katex 配置<div id=katex-配置 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#katex-%e9%85%8d%e7%bd%ae aria-label=锚点>#</a></span></h3><p>测试：$f&rsquo;(x)$</p><p>首先禁用 <code>MathJax</code>（如果你配置过 <code>MathJax</code> 的话），然后修改你的主题配置文件以便加载 <code>katex.min.css</code> :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>katex</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># true 表示每一页都加载katex.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># false 需要时加载，须在使用的Markdown Front-matter 加上 katex: true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>per_page</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>hide_scrollbar</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span></code></pre></div><p>你不需要添加 <code>katex.min.js</code> 来渲染数学方程。相应的你需要卸载你之前的 <code>hexo</code> 的 <code>markdown</code> 渲染器，然后安装其它插件。</p><p>卸载掉 <code>marked</code> 插件，安装 <code>hexo-renderer-markdown-it</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm un hexo-renderer-marked --save
</span></span><span class=line><span class=cl>npm un hexo-renderer-kramed --save
</span></span><span class=line><span class=cl>npm i hexo-renderer-markdown-it --save
</span></span><span class=line><span class=cl>npm install @neilsustc/markdown-it-katex --save
</span></span></code></pre></div><p>在 hexo 的根目录的 <code>_config.yml</code> 中配置</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>markdown</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>plugins</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>plugin</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;@neilsustc/markdown-it-katex&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>options</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>strict</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></div><h3 class="relative group">Twikoo 评论系统<div id=twikoo-评论系统 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#twikoo-%e8%af%84%e8%ae%ba%e7%b3%bb%e7%bb%9f aria-label=锚点>#</a></span></h3><p>Twikoo 是一个简洁、安全、无后端的静态网站评论系统，基于腾讯云开发。</p><p>具体如何配置评论，请查看 <a href=https://twikoo.js.org/quick-start.html#%E7%8E%AF%E5%A2%83%E5%88%9D%E5%A7%8B%E5%8C%96 target=_blank>Twikoo文档</a></p><p>你只需要把获取到的 环境ID (envId) 填写到配置上去就行</p><p>修改 <code>_config.butterfly.yml</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>twikoo</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>envId</span><span class=p>:</span><span class=w> </span><span class=c># 环境 ID</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>region</span><span class=p>:</span><span class=w> </span><span class=c># 环境地域，默认为 ap-shanghai</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>visitor</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w> </span><span class=c># 是否显示文章閲读数，开启 visitor 后，文章页的访问人数将改为 Twikoo 提供，而不是 不蒜子</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>option</span><span class=p>:</span><span class=w> </span><span class=c># 可选配置</span><span class=w>
</span></span></span></code></pre></div><h3 class="relative group">Git-Calendar<div id=git-calendar class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#git-calendar aria-label=锚点>#</a></span></h3><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install hexo-filter-gitcalendar --save
</span></span></code></pre></div></li><li><p>添加配置信息，在站点配置文件 <code>_config.yml</code> 或者主题配置文件如 <code>_config.butterfly.yml</code> 中添加：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># hexo-filter-gitcalendar</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># see https://akilar.top/posts/1f9c68c9/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>gitcalendar</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 开关</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w> </span><span class=c>#过滤器优先权</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>enable_page</span><span class=p>:</span><span class=w> </span><span class=l>/</span><span class=w> </span><span class=c># 应用页面</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># butterfly挂载容器</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=c># 挂载容器类型</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>recent-posts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>index</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class=l>Aphcity</span><span class=w> </span><span class=c>#git用户名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>apiurl</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://gitcalendar.aphcity.cyou&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>minheight</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>pc</span><span class=p>:</span><span class=w> </span><span class=l>280px</span><span class=w> </span><span class=c>#桌面端最小高度</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=nt>mobile</span><span class=p>:</span><span class=w> </span><span class=l>100px</span><span class=w> </span><span class=c>#移动端最小高度</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>color</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;[&#39;rgba(139, 141, 145, 0.25)&#39;, &#39;#9be9a8&#39;, &#39;#8ddb9c&#39;, &#39;#80ce8f&#39;, &#39;#72c083&#39;, &#39;#65b277&#39;, &#39;#57a56a&#39;, &#39;#4a975e&#39;, &#39;#3c8952&#39;, &#39;#2f7c45&#39;, &#39;#216e39&#39;]&#34;</span><span class=w> </span><span class=c># 适配夜间模式的仿 GitHub 配色</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>container</span><span class=p>:</span><span class=w> </span><span class=l>.recent-post-item(style=&#39;width:100%;height:auto;padding:10px;&#39;)</span><span class=w> </span><span class=c>#父元素容器，需要使用pug语法</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>gitcalendar_css</span><span class=p>:</span><span class=w> </span><span class=l>https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>gitcalendar_js</span><span class=p>:</span><span class=w> </span><span class=l>https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js</span><span class=w>
</span></span></span></code></pre></div></li></ol><h3 class="relative group">页脚计时器和页脚徽标<div id=页脚计时器和页脚徽标 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e9%a1%b5%e8%84%9a%e8%ae%a1%e6%97%b6%e5%99%a8%e5%92%8c%e9%a1%b5%e8%84%9a%e5%be%bd%e6%a0%87 aria-label=锚点>#</a></span></h3><ol><li><p>安装插件,在博客根目录<code>[Blogroot]</code>下打开终端，运行以下指令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install hexo-butterfly-footer-beautify --save
</span></span></code></pre></div></li><li><p>添加配置信息，在站点配置文件<code>_config.yml</code>或者主题配置文件<code>_config.butterfly.yml</code>中添加</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># footer_beautify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 页脚计时器：[Native JS Timer](https://akilar.top/posts/b941af/)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># 页脚徽标：[Add Github Badge](https://akilar.top/posts/e87ad7f8/)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>footer_beautify</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>timer</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 计时器开关</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>bdage</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w> </span><span class=c># 徽标开关</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w> </span><span class=c>#过滤器优先权</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>enable_page</span><span class=p>:</span><span class=w> </span><span class=l>all</span><span class=w> </span><span class=c># 应用页面</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>exclude</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># 屏蔽页面</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># - /posts/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># - /about/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>layout</span><span class=p>:</span><span class=w> </span><span class=c># 挂载容器类型</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>footer-wrap</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>index</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 计时器部分配置项</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>runtime_js</span><span class=p>:</span><span class=w> </span><span class=l>/js/runtime.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>runtime_css</span><span class=p>:</span><span class=w> </span><span class=l>https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c># 徽标部分配置项</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>swiperpara</span><span class=p>:</span><span class=w> </span><span class=m>3</span><span class=w> </span><span class=c>#若非0，则开启轮播功能，每行徽标个数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>bdageitem</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>link</span><span class=p>:</span><span class=w> </span><span class=l>https://hexo.io/</span><span class=w> </span><span class=c>#徽标指向网站链接</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>shields</span><span class=p>:</span><span class=w> </span><span class=l>https://img.shields.io/badge/Frame-Hexo-blue?style=for-the-badge&amp;logo=hexo</span><span class=w> </span><span class=c>#徽标API</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=l>博客框架为Hexo_v5.4.1</span><span class=w> </span><span class=c>#徽标提示语</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>link</span><span class=p>:</span><span class=w> </span><span class=l>https://butterfly.js.org/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>shields</span><span class=p>:</span><span class=w> </span><span class=l>https://img.shields.io/badge/Theme-Butterfly-6513df?style=for-the-badge&amp;logo=bitdefender</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=l>主题版本Butterfly_v4.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>link</span><span class=p>:</span><span class=w> </span><span class=l>https://www.jsdelivr.com/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>shields</span><span class=p>:</span><span class=w> </span><span class=l>https://img.shields.io/badge/CDN-jsDelivr-orange?style=for-the-badge&amp;logo=jsDelivr</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=l>本站使用JsDelivr为静态资源提供CDN加速</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># - link: https://vercel.com/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#   shields: https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=for-the-badge&amp;logo=Vercel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#   message: 本站采用双线部署，默认线路托管于Vercel</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># - link: https://vercel.com/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#   shields: https://img.shields.io/badge/Hosted-Coding-0cedbe?style=for-the-badge&amp;logo=Codio</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c>#   message: 本站采用双线部署，联通线路托管于Coding</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>link</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>shields</span><span class=p>:</span><span class=w> </span><span class=l>https://img.shields.io/badge/Source-Github-d021d6?style=for-the-badge&amp;logo=GitHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=l>本站项目由Github托管</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>link</span><span class=p>:</span><span class=w> </span><span class=l>http://creativecommons.org/licenses/by-nc-sa/4.0/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>shields</span><span class=p>:</span><span class=w> </span><span class=l>https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=for-the-badge&amp;logo=Claris</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=l>本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>swiper_css</span><span class=p>:</span><span class=w> </span><span class=l>https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>swiper_js</span><span class=p>:</span><span class=w> </span><span class=l>https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>swiperbdage_init_js</span><span class=p>:</span><span class=w> </span><span class=l>https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js</span><span class=w>
</span></span></span></code></pre></div></li></ol><h3 class="relative group">日志自动分类插件<div id=日志自动分类插件 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e6%97%a5%e5%bf%97%e8%87%aa%e5%8a%a8%e5%88%86%e7%b1%bb%e6%8f%92%e4%bb%b6 aria-label=锚点>#</a></span></h3><p>Hexo写日志，通常我们都需要维护一个front-matter信息，包括<code>title</code>、<code>date</code>。博客多了，为了方便日志分类，一般还需要设置<code>categories</code>。</p><p>比如下面的例子：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>title: Hexo简介
</span></span><span class=line><span class=cl>date: 2008-08-08
</span></span><span class=line><span class=cl>categories:
</span></span><span class=line><span class=cl>  <span class=k>-</span> web开发
</span></span><span class=line><span class=cl>  <span class=k>-</span> 前端
</span></span><span class=line><span class=cl>  <span class=k>-</span> 博客框架
</span></span><span class=line><span class=cl>---
</span></span></code></pre></div><p>本文介绍一种<strong>自动生成categories</strong>的插件 <a href=https://github.com/xu-song/hexo-auto-category target=_blank>hexo-auto-category官方地址</a>。</p><p>对于博客 <code>source/_post/web/framework/hexo.md</code>，该插件会自动生成以下<code>categories</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>categories:
</span></span><span class=line><span class=cl>  <span class=k>-</span> web
</span></span><span class=line><span class=cl>  <span class=k>-</span> framework
</span></span></code></pre></div><ol><li><p>安装</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install hexo-auto-category --save
</span></span></code></pre></div></li><li><p>配置
在站点根目录下的<code>_config.yml</code>添加：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># Generate categories from directory-tree</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Dependencies: https://github.com/xu-song/hexo-auto-category</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># depth: the depth of directory-tree you want to generate, should &gt; 0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>auto_category</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>enable</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>depth</span><span class=p>:</span><span class=w> </span><span class=c># 如果只想生成第一级目录分类，可以设置`depth`属性为 1</span><span class=w>
</span></span></span></code></pre></div></li></ol><h3 class="relative group">gulp 压缩静态资源<div id=gulp-压缩静态资源 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#gulp-%e5%8e%8b%e7%bc%a9%e9%9d%99%e6%80%81%e8%b5%84%e6%ba%90 aria-label=锚点>#</a></span></h3><p><a href=https://www.gulpjs.com.cn/ target=_blank>gulp</a>能够帮助用户自动压缩静态资源，配合各类下属插件，能够压缩包括css、js、html乃至各类格式的图片文件。（<strong>图片文件的压缩往往只能节省几十KB，效果远远不如imagine、tinypng等压缩方式，所以此处不再写使用gulp压缩图片的内容</strong>）</p><ol><li><p>安装Gulp插件：在博客根目录<code>[Blogroot]</code>打开终端，输入：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install --global gulp-cli <span class=c1>#全局安装gulp指令集  </span>
</span></span><span class=line><span class=cl>npm install gulp --save <span class=c1>#安装gulp插件</span>
</span></span></code></pre></div></li><li><p>安装各个下属插件以实现对各类静态资源的压缩。</p><ul><li><p>压缩 HTML：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install gulp-htmlclean --save-dev  
</span></span><span class=line><span class=cl>npm install gulp-html-minifier-terser --save-dev  
</span></span><span class=line><span class=cl><span class=c1># 用gulp-html-minifier-terser可以压缩HTML中的ES6语法</span>
</span></span></code></pre></div></li><li><p>压缩 CSS：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install gulp-clean-css --save-dev
</span></span></code></pre></div></li><li><p>压缩 JS：</p></li><li><p><a href=https://github.com/duan602728596/gulp-terser target=_blank>gulp-terser</a>只会直接压缩js代码，所以不存在因为语法变动导致的错误 。事实上，当我们使用<code>jsdelivr</code>的<code>CDN</code>服务时，只需要在<code>css</code>或者<code>js</code>的后缀前添加<code>.min</code>,例如<code>example.js->example.min.js</code>,<code>JsDelivr</code>就会自动使用<code>terser</code>帮我们压缩好代码。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install gulp-terser --save-dev
</span></span></code></pre></div></li><li><p>压缩字体包</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>npm install gulp-fontmin --save-dev
</span></span></code></pre></div></li></ul></li><li><p>为Gulp创建<code>gulpfile.js</code>任务脚本。在博客根目录<code>[Blogroot]</code>下新建<code>gulpfile.js</code>,打开<code>[Blogroot]\gulpfile.js</code>,输入以下内容：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//用到的各个插件  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>gulp</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp&#39;</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>cleanCSS</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-clean-css&#39;</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>htmlmin</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-html-minifier-terser&#39;</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>htmlclean</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-htmlclean&#39;</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>fontmin</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-fontmin&#39;</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=c1>// gulp-tester  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>terser</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-terser&#39;</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=c1>// 压缩js  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;compress&#39;</span><span class=p>,</span> <span class=kr>async</span><span class=p>()</span> <span class=p>=&gt;{</span>  
</span></span><span class=line><span class=cl>  <span class=nx>gulp</span><span class=p>.</span><span class=nx>src</span><span class=p>([</span><span class=s1>&#39;./public/**/*.js&#39;</span><span class=p>,</span> <span class=s1>&#39;!./public/**/*.min.js&#39;</span><span class=p>])</span>  
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>terser</span><span class=p>())</span>  
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>gulp</span><span class=p>.</span><span class=nx>dest</span><span class=p>(</span><span class=s1>&#39;./public&#39;</span><span class=p>))</span>  
</span></span><span class=line><span class=cl><span class=p>});</span>  
</span></span><span class=line><span class=cl><span class=c1>//压缩css  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;minify-css&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>gulp</span><span class=p>.</span><span class=nx>src</span><span class=p>([</span><span class=s1>&#39;./public/**/*.css&#39;</span><span class=p>])</span>  
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>cleanCSS</span><span class=p>({</span>  
</span></span><span class=line><span class=cl>            <span class=nx>compatibility</span><span class=o>:</span> <span class=s1>&#39;ie11&#39;</span>  
</span></span><span class=line><span class=cl>        <span class=p>}))</span>  
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>gulp</span><span class=p>.</span><span class=nx>dest</span><span class=p>(</span><span class=s1>&#39;./public&#39;</span><span class=p>));</span>  
</span></span><span class=line><span class=cl><span class=p>});</span>  
</span></span><span class=line><span class=cl><span class=c1>//压缩html  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;minify-html&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>gulp</span><span class=p>.</span><span class=nx>src</span><span class=p>(</span><span class=s1>&#39;./public/**/*.html&#39;</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>htmlclean</span><span class=p>())</span>  
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>htmlmin</span><span class=p>({</span>  
</span></span><span class=line><span class=cl>            <span class=nx>removeComments</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=c1>//清除html注释  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>collapseWhitespace</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=c1>//压缩html  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>collapseBooleanAttributes</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>            <span class=c1>//省略布尔属性的值，例如：&lt;input checked=&#34;true&#34;/&gt; ==&gt; &lt;input /&gt;  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>removeEmptyAttributes</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>            <span class=c1>//删除所有空格作属性值，例如：&lt;input id=&#34;&#34; /&gt; ==&gt; &lt;input /&gt;  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>removeScriptTypeAttributes</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>            <span class=c1>//删除&lt;script&gt;的type=&#34;text/javascript&#34;  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>removeStyleLinkTypeAttributes</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>  
</span></span><span class=line><span class=cl>            <span class=c1>//删除&lt;style&gt;和&lt;link&gt;的 type=&#34;text/css&#34;  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>minifyJS</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=c1>//压缩页面 JS  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>minifyCSS</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span> <span class=c1>//压缩页面 CSS  
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>minifyURLs</span><span class=o>:</span> <span class=kc>true</span>  <span class=c1>//压缩页面URL  
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>}))</span>  
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>gulp</span><span class=p>.</span><span class=nx>dest</span><span class=p>(</span><span class=s1>&#39;./public&#39;</span><span class=p>))</span>  
</span></span><span class=line><span class=cl><span class=p>});</span>  
</span></span><span class=line><span class=cl><span class=c1>//压缩字体  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>minifyFont</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>cb</span><span class=p>)</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>  <span class=nx>gulp</span>  
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>src</span><span class=p>(</span><span class=s1>&#39;./public/fonts/*.ttf&#39;</span><span class=p>)</span> <span class=c1>//原字体所在目录  
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>fontmin</span><span class=p>({</span>  
</span></span><span class=line><span class=cl>      <span class=nx>text</span><span class=o>:</span> <span class=nx>text</span>  
</span></span><span class=line><span class=cl>    <span class=p>}))</span>  
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>gulp</span><span class=p>.</span><span class=nx>dest</span><span class=p>(</span><span class=s1>&#39;./public/fontsdest/&#39;</span><span class=p>))</span> <span class=c1>//压缩后的输出目录  
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;end&#39;</span><span class=p>,</span> <span class=nx>cb</span><span class=p>);</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;mini-font&#39;</span><span class=p>,</span> <span class=p>(</span><span class=nx>cb</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>buffers</span> <span class=o>=</span> <span class=p>[];</span>  
</span></span><span class=line><span class=cl>  <span class=nx>gulp</span>  
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>src</span><span class=p>([</span><span class=s1>&#39;./public/**/*.html&#39;</span><span class=p>])</span> <span class=c1>//HTML文件所在目录请根据自身情况修改  
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;data&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>file</span><span class=p>)</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>      <span class=nx>buffers</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nx>file</span><span class=p>.</span><span class=nx>contents</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>    <span class=p>})</span>  
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>on</span><span class=p>(</span><span class=s1>&#39;end&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>text</span> <span class=o>=</span> <span class=nx>Buffer</span><span class=p>.</span><span class=nx>concat</span><span class=p>(</span><span class=nx>buffers</span><span class=p>).</span><span class=nx>toString</span><span class=p>(</span><span class=s1>&#39;utf-8&#39;</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>      <span class=nx>minifyFont</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>cb</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>    <span class=p>});</span>  
</span></span><span class=line><span class=cl><span class=p>});</span>  
</span></span><span class=line><span class=cl><span class=c1>// 运行gulp命令时依次执行以下任务  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;default&#39;</span><span class=p>,</span> <span class=nx>gulp</span><span class=p>.</span><span class=nx>parallel</span><span class=p>(</span>  
</span></span><span class=line><span class=cl>  <span class=s1>&#39;compress&#39;</span><span class=p>,</span> <span class=s1>&#39;minify-css&#39;</span><span class=p>,</span> <span class=s1>&#39;minify-html&#39;</span><span class=p>,</span><span class=s1>&#39;mini-font&#39;</span>  
</span></span><span class=line><span class=cl><span class=p>))</span>
</span></span></code></pre></div></li></ol><h2 class="relative group">魔改优化日记<div id=魔改优化日记 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e9%ad%94%e6%94%b9%e4%bc%98%e5%8c%96%e6%97%a5%e8%ae%b0 aria-label=锚点>#</a></span></h2><h3 class="relative group">合并CSS以减少请求次数<div id=合并css以减少请求次数 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%90%88%e5%b9%b6css%e4%bb%a5%e5%87%8f%e5%b0%91%e8%af%b7%e6%b1%82%e6%ac%a1%e6%95%b0 aria-label=锚点>#</a></span></h3><p>将魔改样式整合到<code>index.css</code>文件内，减少对服务器的请求次数。能够节省大量加载时间。</p><p>我的做法如下：</p><ol><li><p>在 <code>[Blogroot]\themes\butterfly\source\css\</code> 路径下新建 <code>_custom</code> 文件夹，然后把魔改样式的<code>CSS</code>文件拖动进去。文件目录层级可以表示为以下情况：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=l>source  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=l>|__ css  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=l>|__ _custom  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=l>|__ custom1.css  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=l>|__ custom2.css  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=l>|__ custom3.css  </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=l>|__ index.styl</span><span class=w>
</span></span></span></code></pre></div></li><li><p>在 <code>[Blogroot]\themes\butterfly\source\css\index.styl</code> 中新增一行代码: <code>@import '_custom/*.css'</code>，表示引入 <code>_custom</code> 文件夹下的所有CSS文件。</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl>       @import &#39;nib&#39;  
</span></span><span class=line><span class=cl>       @import &#39;_third-party/*.css&#39;  
</span></span><span class=line><span class=cl><span class=gi>+      @import &#39;_custom/*.css&#39;  
</span></span></span><span class=line><span class=cl><span class=gi></span>       // project  
</span></span><span class=line><span class=cl>       @import &#39;var&#39;  
</span></span><span class=line><span class=cl>       @import &#39;_global/*&#39;  
</span></span></code></pre></div><h3 class="relative group">博客使用一图流<div id=博客使用一图流 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%8d%9a%e5%ae%a2%e4%bd%bf%e7%94%a8%e4%b8%80%e5%9b%be%e6%b5%81 aria-label=锚点>#</a></span></h3><h4 class="relative group">去除背景配置<div id=去除背景配置 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%8e%bb%e9%99%a4%e8%83%8c%e6%99%af%e9%85%8d%e7%bd%ae aria-label=锚点>#</a></span></h4><ol><li><p>打开主题配置文件（注意：不是博客配置文件）<code>_config.yml</code>，按 <code>Ctrl+F</code> 快捷键弹出搜索框，输入 <code>banner</code> 关键词，将以下图片链接去掉。修改如下配置项：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># Disable all banner image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>disable_top_img</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># The banner image of home page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>index_img</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># If the banner of page not setting, it will show the top_img</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>default_top_img</span><span class=p>:</span><span class=w> </span><span class=l>transparent</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># The banner image of archive page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>archive_img</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># If the banner of tag page not setting, it will show the top_img</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># note: tag page, not tags page (子標籤頁面的 top_img)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>tag_img</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># The banner image of tag page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># format:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#  - tag name: xxxxx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>tag_per_img</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># If the banner of category page not setting, it will show the top_img</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># note: category page, not categories page (子分類頁面的 top_img)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>category_img</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># The banner image of category page</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># format:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#  - category name: xxxxx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>category_per_img</span><span class=p>:</span><span class=w>
</span></span></span></code></pre></div></li><li><p>搜索关键词 <code>background</code>, 将颜色设置为：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># Website Background (設置網站背景)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># can set it to color or image (可設置圖片 或者 顔色)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>background</span><span class=p>:</span><span class=w> </span><span class=l>url(/img/banner.jpg)</span><span class=w> </span><span class=c># 修改为自己的图片</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Footer Background</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>footer_bg</span><span class=p>:</span><span class=w> </span><span class=l>transparent</span><span class=w>
</span></span></span></code></pre></div></li></ol><h4 class="relative group">引入魔改样式，修改 CSS 样式<div id=引入魔改样式修改-css-样式 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%bc%95%e5%85%a5%e9%ad%94%e6%94%b9%e6%a0%b7%e5%bc%8f%e4%bf%ae%e6%94%b9-css-%e6%a0%b7%e5%bc%8f aria-label=锚点>#</a></span></h4><ol><li><p>以 butterfly 主题为例，可以在 <code>[Blogroot]\themes\butterfly\source\css\</code> 目录下新建 custom.css 文件，然后在 <code>_config.butterfly.yml</code> 的 <code>inject</code> 配置项中引入自定义样式文件。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>inject</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>head</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=l>&lt;link rel=&#34;stylesheet&#34; href=&#34;/css/custom.css&#34;  media=&#34;defer&#34; onload=&#34;this.media=&#39;all&#39;&#34;&gt;</span><span class=w>
</span></span></span></code></pre></div><p>其中 <code>media="defer" onload="this.media='all'"</code> 是异步加载配置项，确保自定义样式会在页面加载完成后才继续渲染。如果没有需求或效果不好可以不加这个。</p></li><li><p>我的博客一图流 <code>css</code> 样式设置如下，修改 <code>custom.css</code> 文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=c>/* 首页文章卡片 */</span>
</span></span><span class=line><span class=cl><span class=p>#</span><span class=nn>recent-posts</span> <span class=o>&gt;</span> <span class=p>.</span><span class=nc>recent-post-item</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.85</span><span class=p>);}</span>
</span></span><span class=line><span class=cl><span class=c>/* 首页侧栏卡片 */</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>card-widget</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.85</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/* 文章页面正文背景 */</span>
</span></span><span class=line><span class=cl><span class=nt>div</span><span class=p>#</span><span class=nn>post</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.85</span><span class=p>);}</span>
</span></span><span class=line><span class=cl><span class=c>/* 分页页面 */</span>
</span></span><span class=line><span class=cl><span class=nt>div</span><span class=p>#</span><span class=nn>page</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.85</span><span class=p>);}</span>
</span></span><span class=line><span class=cl><span class=c>/* 归档页面 */</span>
</span></span><span class=line><span class=cl><span class=nt>div</span><span class=p>#</span><span class=nn>archive</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.85</span><span class=p>);}</span>
</span></span><span class=line><span class=cl><span class=c>/* 标签页面 */</span>
</span></span><span class=line><span class=cl><span class=nt>div</span><span class=p>#</span><span class=nn>tag</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.85</span><span class=p>);}</span>
</span></span><span class=line><span class=cl><span class=c>/* 分类页面 */</span>
</span></span><span class=line><span class=cl><span class=nt>div</span><span class=p>#</span><span class=nn>category</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.85</span><span class=p>);}</span>
</span></span><span class=line><span class=cl><span class=p>#</span><span class=nn>footer</span> <span class=p>{</span><span class=k>opacity</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/* 页脚透明 */</span>
</span></span><span class=line><span class=cl><span class=p>#</span><span class=nn>footer</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=kc>transparent</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/* 页脚黑色透明玻璃效果移除 */</span>
</span></span><span class=line><span class=cl><span class=p>#</span><span class=nn>footer</span><span class=p>::</span><span class=nd>before</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=kc>transparent</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/* 头图透明 */</span>
</span></span><span class=line><span class=cl><span class=p>#</span><span class=nn>page-header</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=kc>transparent</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */</span>
</span></span><span class=line><span class=cl><span class=p>#</span><span class=nn>page-header</span><span class=p>.</span><span class=nc>post-bg</span><span class=p>:</span><span class=nd>before</span> <span class=p>{</span><span class=k>background-color</span><span class=p>:</span> <span class=kc>transparent</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/*阅读模式修改*/</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>read-mode</span> <span class=p>#</span><span class=nn>aside-content</span> <span class=p>.</span><span class=nc>card-widget</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>158</span><span class=p>,</span> <span class=mi>204</span><span class=p>,</span> <span class=mi>171</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>read-mode</span> <span class=nt>div</span><span class=p>#</span><span class=nn>post</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>158</span><span class=p>,</span> <span class=mi>204</span><span class=p>,</span> <span class=mi>171</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/*夜间模式修改*/</span>
</span></span><span class=line><span class=cl><span class=c>/*夜间模式伪类遮罩层透明*/</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=p>#</span><span class=nn>footer</span><span class=p>::</span><span class=nd>before</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=kc>transparent</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=p>#</span><span class=nn>page-header</span><span class=p>::</span><span class=nd>before</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=kc>transparent</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/* 首页文章卡片 */</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=p>#</span><span class=nn>recent-posts</span> <span class=o>&gt;</span> <span class=p>.</span><span class=nc>recent-post-item</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/* 头图透明 */</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=p>#</span><span class=nn>aside-content</span> <span class=p>.</span><span class=nc>card-widget</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/* 文章页面正文背景 */</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=nt>div</span><span class=p>#</span><span class=nn>post</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=nt>div</span><span class=p>#</span><span class=nn>archive</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=nt>div</span><span class=p>#</span><span class=nn>category</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=nt>div</span><span class=p>#</span><span class=nn>page</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=c>/*夜间阅读模式*/</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=p>.</span><span class=nc>read-mode</span> <span class=p>#</span><span class=nn>aside-content</span> <span class=p>.</span><span class=nc>card-widget</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;</span><span class=k>color</span><span class=p>:</span> <span class=mh>#ffffff</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s2>&#34;dark&#34;</span><span class=o>]</span> <span class=p>.</span><span class=nc>read-mode</span> <span class=nt>div</span><span class=p>#</span><span class=nn>post</span> <span class=p>{</span><span class=k>background</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;</span><span class=k>color</span><span class=p>:</span> <span class=mh>#ffffff</span><span class=p>;}</span>
</span></span></code></pre></div></li></ol><h2 class="relative group">主题升级<div id=主题升级 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e4%b8%bb%e9%a2%98%e5%8d%87%e7%ba%a7 aria-label=锚点>#</a></span></h2><p>进入 <code>[Blogroot]/themes</code> ，打开终端，输入：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git pull
</span></span></code></pre></div><p>之后打开 <code>Butterfly</code> 主题 <code>GitHub</code> <a href=https://github.com/jerryc127/hexo-theme-butterfly/releases target=_blank>Release 页面</a></p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt=GitHub-Releases-版本对比 src=https://cdn.statically.io/gh/Aphcity/aphcity-assets@master/20230206/GitHub-Releases-%e7%89%88%e6%9c%ac%e5%af%b9%e6%af%94.25253703rfmo.webp></figure></p><p>选择更新之前的版本，进入版本比对视图</p><p>向下滚动找到 <code>_config.yml</code> 的对比视图，并根据其更改调整自己的主题配置文件 <code>_config.butterfly.yml</code></p><p><figure><img class="my-0 rounded-md" loading=lazy decoding=async fetchpriority=low alt=GitHub-Releases-主题配置文件版本对比 src=https://cdn.statically.io/gh/Aphcity/aphcity-assets@master/20230206/GitHub-Releases-%e4%b8%bb%e9%a2%98%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6%e7%89%88%e6%9c%ac%e5%af%b9%e6%af%94.965zj5g7z5w.webp></figure></p></div><h2 class="mt-8 text-2xl font-extrabold mb-10">相关文章</h2><section class="w-full grid gap-4 sm:grid-cols-2 md:grid-cols-3"><article class="relative min-h-full min-w-full overflow-hidden rounded border border-2 border-neutral-200 shadow-2xl dark:border-neutral-700"><div class="flex-none relative overflow-hidden thumbnail_card_related"><img src=/img/default-cover.2q5oxoasyv00_hu_81f6f4e4f0c08684.webp alt="Hello World" loading=lazy decoding=async fetchpriority=low class="not-prose absolute inset-0 w-full h-full object-cover"></div><div class="px-6 py-4"><header><a href=/zh-cn/posts/hello-world/ class="not-prose before:absolute before:inset-0 decoration-primary-500 dark:text-neutral text-xl font-bold text-neutral-800 hover:underline hover:underline-offset-2"><h2>Hello World</h2></a></header><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><time datetime=2022-02-07T15:28:25+00:00>2022年2月7日</time><span class="px-2 text-primary-500">&#183;</span><span>83 字</span><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>1 分钟</span><span class="px-2 text-primary-500">&#183;</span><span>
<span id=views_posts/hello-world.md class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400" title=views>loading</span>
<span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 576 512"><path fill="currentColor" d="M288 32c-80.8.0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7.0 24.6C17.3 304 48.6 356 95.4 399.4 142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7.0-24.6-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144 64.5-144 144-144 144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64-11.5.0-22.3-3-31.6-8.4-.2 2.8-.4 5.5-.4 8.4.0 53 43 96 96 96s96-43 96-96-43-96-96-96c-2.8.0-5.6.1-8.4.4 5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></span>
</span><span class="px-2 text-primary-500">&#183;</span><span>
<span id=likes_posts/hello-world.md class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400" title=likes>loading</span>
<span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M47.6 300.4 228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6.0 115.2.0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span></span></span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] me-2" href=/zh-cn/categories/%E6%95%99%E7%A8%8B/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">教程
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/zh-cn/tags/hexo/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Hexo</span></span></a></div></div></div><div class="px-6 pt-4 pb-2"></div></article></section></div><script type=text/javascript src=/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid="views_posts/Hexo + Butterfly 博客搭建日记.md" data-oid-likes="likes_posts/Hexo + Butterfly 博客搭建日记.md"></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span class="flex flex-col"><a class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/zh-cn/posts/hello-world/><span class=leading-6><span class="inline-block rtl:rotate-180">&larr;</span>&ensp;Hello World
</span></a><span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2022-02-07T15:28:25+00:00>2022年2月7日</time>
</span></span><span class="flex flex-col items-end"><a class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/zh-cn/posts/clash-for-windows-%E4%BD%BF%E7%94%A8%E5%85%A8%E6%95%99%E7%A8%8B/><span class=leading-6>Clash For Windows 使用全教程&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
</span></a><span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2023-06-21T22:49:07+00:00>2023年6月21日</time></span></span></div></div></footer></article><div id=scroll-to-top class="fixed bottom-24 end-6 z-50 transform translate-y-4 opacity-0 duration-200"><a href=#the-top class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label=返回顶部 title=返回顶部>&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex list-none flex-col sm:flex-row"><li class="flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/zh-cn/tags/ title=Tags>Tags</a></li><li class="flex mb-1 text-end sm:mb-0 sm:me-7 sm:last:me-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/zh-cn/categories/ title=Categories>Categories</a></li></ul></nav><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">Copy, <em>right?</em> :thinking_face:</p><p class="text-xs text-neutral-500 dark:text-neutral-400">由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a> 强力驱动</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://aphcity.top/zh-cn/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=搜索 tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="关闭 (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>